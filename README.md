# ðŸ¥ ë…¸ì¸ë³µì§€ìš©êµ¬ ì•ˆë‚´ ì±—ë´‡

## ðŸ“‹ **ë¬´ì—‡ì„ ìœ„í•œ ì„œë¹„ìŠ¤ì¸ê°€ (ëª©ì )**

**ë…¸ì¸ë³µì§€ìš©êµ¬ ì•ˆë‚´ ì „ìš© ì±—ë´‡**: ì‚¬ìš©ìžì˜ ì§ˆë¬¸ì„ ë°›ì•„, ë¯¸ë¦¬ ì¤€ë¹„ëœ ë‹¨ì¼ PDF(`noin3.pdf`)ë¥¼ ê·¼ê±°ë¡œ ì •í™•í•˜ê³  ë³´ê¸° ì‰¬ìš´ ë‹µë³€ì„ ìƒì„±í•©ë‹ˆë‹¤.

**RAG êµ¬ì¡°**: ì§ˆë¬¸ â†’ PDF ìž„ë² ë”© ê²€ìƒ‰(FAISS) â†’ ê´€ë ¨ ë¬¸ë§¥ì„ LLMì— ì œê³µ â†’ ë§ˆí¬ë‹¤ìš´ í…œí”Œë¦¿ìœ¼ë¡œ ì •ëˆëœ ë‹µë³€ ì¶œë ¥.

**ìš´ì˜ íŽ¸ì˜ì„±**: ê¸°ë³¸ì ì¸ ê°€ë“œë ˆì¼(ì£¼ì œ í•„í„°/ì˜ˆì‹œ í”„ë¡¬í”„íŠ¸) ê³¼ ê´€ë¦¬ìž ë¡œê·¸ í™”ë©´ì´ ìžˆì–´ ì„œë¹„ìŠ¤ ìš´ì˜ì„ ìµœì†Œí•œìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìžˆê²Œ êµ¬ì„±ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.

---

## ðŸ”„ **ì–´ë–»ê²Œ ë™ìž‘í•˜ë‚˜ (ì „ì²´ íë¦„)**

### **PDF â†’ ë²¡í„°í™” ì¤€ë¹„**

- **PyMuPDFLoader**ë¡œ `noin3.pdf` íŽ˜ì´ì§€ë¥¼ ë¡œë“œ
- **RecursiveCharacterTextSplitter**ë¡œ ë¬¸ì„œ ì²­í¬ ë¶„í• 
- **OpenAIEmbeddings**ë¡œ ìž„ë² ë”©
- **FAISS**ì— ì €ìž¥/ë¡œë“œ

> ðŸ’¡ **ìµœì´ˆ ì‹¤í–‰ ì‹œ** ë²¡í„°ìŠ¤í† ì–´ê°€ ì—†ìœ¼ë©´ ìƒì„±Â·ì €ìž¥, ì´í›„ì—” ë””ìŠ¤í¬ì—ì„œ ìž¬ì‚¬ìš©í•˜ì—¬ ì†ë„â†‘.

### **ì§ˆë¬¸ ì²˜ë¦¬ (`/ask`)**

1. ì‚¬ìš©ìžê°€ ì§ˆë¬¸ì„ ë³´ë‚´ë©´, **ê°€ë“œë ˆì¼**ë¡œ "ë„ˆë¬´ ì§§ìŒ/ë¬´ì˜ë¯¸/ê¸ˆì§€ ì£¼ì œ" ì—¬ë¶€ë¥¼ ì„ ê²€ì¦
2. í†µê³¼í•˜ë©´ **RAG ì²´ì¸** ì‹¤í–‰: FAISSì—ì„œ ê´€ë ¨ ì²­í¬ `k=6` ê²€ìƒ‰(ì ìˆ˜ ìž„ê³„ 0.5), í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ê³¼ í•¨ê»˜ GPT-4o í˜¸ì¶œ â†’ í¬ë§·ëœ ë‹µë³€ ìƒì„±
3. ê²°ê³¼/ìƒíƒœë¥¼ **CSV ë¡œê·¸**(`chat_log.csv`) ë¡œ ê¸°ë¡(ì‹œê°„, ì§ˆë¬¸, ë‹µë³€, ìƒíƒœ, ë¶„ë¥˜)

### **ê´€ë¦¬ìž í™”ë©´ (`/admin`)**

- ê°„ë‹¨í•œ ë¹„ë°€ë²ˆí˜¸(`"1234"`) ë¡œê·¸ì¸ í›„ ìµœê·¼ ë¡œê·¸ ì—´ëžŒ ê°€ëŠ¥(`/admin/logs`)
- ì¹´í…Œê³ ë¦¬ í•„í„°ë¡œ ìµœê·¼ ì§ˆì˜ ì‘ë‹µ ìš”ì•½ í™•ì¸(`/admin/api/logs`)

---

## ðŸ§© **í•µì‹¬ êµ¬ì„±ìš”ì†Œ (ê¸°ëŠ¥ë³„ ì„¤ëª…)**

### **1) RAG íŒŒì´í”„ë¼ì¸**

#### **ìž„ë² ë”© & ì €ìž¥ì†Œ**
- **OpenAIEmbeddings**ë¡œ í…ìŠ¤íŠ¸ ìž„ë² ë”©
- **FAISS**ì— ì €ìž¥í•˜ê³ , ë‹¤ìŒ ê¸°ë™ ë•ŒëŠ” `load_local`ë¡œ ì¦‰ì‹œ ë¡œë”©

#### **ë¦¬íŠ¸ë¦¬ë²„ ì„¤ì •**
```python
as_retriever(search_kwargs={"k": 6, "score_threshold": 0.5})
```
â†’ ìƒìœ„ 6ê°œ ì²­í¬ ì¤‘ ìœ ì‚¬ë„ ìž„ê³„ ë„˜ëŠ” ê²ƒë§Œ ë¬¸ë§¥ìœ¼ë¡œ ì‚¬ìš©

#### **í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿**
- ë‹µë³€ì€ **êµµì€ ê¸€ì”¨**/ì²´í¬/ê²½ê³ /ì—°ë½ì²˜ ë“± ë§ˆí¬ë‹¤ìš´ ê·œì¹™ì„ ê°•ì œ
- "ëª¨ë¥´ë©´ ì¶”ì¸¡í•˜ì§€ ë§ê³  ê³µë‹¨ ë¬¸ì˜ ì•ˆë‚´" ë“± ì•ˆì „ ê°€ì´ë“œ ë‚´ìž¥

#### **LLM í˜¸ì¶œ**
- **ChatOpenAI**(`model_name="gpt-4o"`, `temperature=0`)ë¡œ ì¼ê´€ì„±/ì‚¬ì‹¤ì„±ì„ ê°•í™”

### **2) ê°€ë“œë ˆì¼(ì§ˆë¬¸ ìœ íš¨ì„± & ë¶„ë¥˜)**

- **ìœ íš¨ì„± ê²€ì‚¬**: ë„ˆë¬´ ì§§ì€/ë¬´ì˜ë¯¸/ê¸ˆì§€ í‚¤ì›Œë“œ(ë³µì§€ ì£¼ì œ ì™¸) ì§ˆë¬¸ ì°¨ë‹¨, ì˜ˆì‹œ ì§ˆë¬¸ ì œì‹œ
- **ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜**: "ì‹ ì²­ë°©ë²•/í’ˆëª©/ë“±ê¸‰ì‹ ì²­ì¡°ê±´/ë³¸ì¸ë¶€ë‹´ë¥ /ìžê²©í™•ì¸/ê¸°íƒ€" ë“±ìœ¼ë¡œ ê°„ë‹¨ ë¶„ë¥˜(ë¡œê·¸ìš©)

### **3) ë¡œê·¸ & ìš´ì˜**

- **CSV ê¸°ë°˜ ì±„íŒ… ë¡œê·¸**: íƒ€ìž„ìŠ¤íƒ¬í”„/ì§ˆë¬¸/ë‹µë³€/ìƒíƒœ/ì¹´í…Œê³ ë¦¬ ì €ìž¥ â†’ ê´€ë¦¬ìž íŽ˜ì´ì§€ì—ì„œ ìµœì‹ ìˆœ í™•ì¸
- **ê´€ë¦¬ìž ì¸ì¦**: ì„¸ì…˜ ê¸°ë°˜ ê°„ë‹¨ ë¡œê·¸ì¸(`/admin/login`, ë¹„ë²ˆ ë³€ê²½ ê¶Œìž¥)

### **4) ì›¹ ì—”ë“œí¬ì¸íŠ¸**

| ê²½ë¡œ | ì„¤ëª… |
|------|------|
| `/` | ì‚¬ìš©ìžìš© ì±„íŒ… UI í…œí”Œë¦¿ ë Œë”ë§ |
| `/ask` | ì§ˆë¬¸ì„ ë°›ì•„ RAG ì²´ì¸ ì‹¤í–‰ â†’ JSON ì‘ë‹µ |
| `/examples` | ê°€ë“œë ˆì¼ì´ ì œê³µí•˜ëŠ” ìŠ¤íƒ€íŠ¸ìš© ì˜ˆì‹œ ì§ˆë¬¸ ë°˜í™˜ |
| `/admin/*` | ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ/ë¡œê·¸ ì—´ëžŒ |

---

## âœ… **ìž¥ì ê³¼ í•œê³„**

### **ðŸŽ¯ ìž¥ì **

- **ì‹¬í”Œí•œ ë‹¨ì¼ PDF ê¸°ë°˜**: ìž‘ì€ ê·œëª¨ ë¬¸ì„œì— ì í•©, êµ¬ì¶•ì´ ë¹ ë¦„
- **ìž¬ì‚¬ìš© ê°€ëŠ¥í•œ ë²¡í„°ìŠ¤í† ì–´**: ìµœì´ˆë§Œ ìž„ë² ë”© ë¹„ìš©/ì‹œê°„ ë°œìƒ
- **ìš´ì˜ ì•ˆì „ìž¥ì¹˜**: ì£¼ì œ ë²—ì–´ë‚œ ì§ˆë¬¸ ì°¨ë‹¨Â·ì™„ê³¡ ì•ˆë‚´, ë‹µë³€ í˜•ì‹ í†µì¼

### **âš ï¸ í•œê³„/ì£¼ì˜**

- **ë¬¸ì„œê°€ 1ê°œ**ë¼ì„œ ë²”ìœ„ ë°– ì§ˆë¬¸ì—” ì•½í•¨ â†’ ë¬¸ì„œ ì¶”ê°€/ì¹´íƒˆë¡œê·¸í™” í•„ìš”
- **ê°„ë‹¨ ì¸ì¦ê³¼ CSV ë¡œê¹…**: í”„ë¡œë•ì…˜ì—ì„  DB/ê¶Œí•œ/ê°ì‚¬ë¡œê·¸ë¡œ ê°•í™” ê¶Œìž¥
- **í™˜ê²½ë³€ìˆ˜/ë¹„ë°€í‚¤ ê´€ë¦¬**: `.env`ì™€ `ADMIN_PASSWORD`, `secret_key`ëŠ” ì‹¤ì œ ë°°í¬ ì‹œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬ í•„ìš”

---

## ðŸš€ **í™•ìž¥ ì•„ì´ë””ì–´ (ë°”ë¡œ ì ìš© ì‰¬ì›€)**

- **ë¬¸ì„œ ë‹¤ì¤‘í™”**: PDF ë‹¤ê±´ ë¡œë“œ + ë©”íƒ€ë°ì´í„°(ì¹´í…Œê³ ë¦¬/ë‚ ì§œ)ë¡œ ê²€ìƒ‰ í’ˆì§ˆ í–¥ìƒ
- **í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰**: í‚¤ì›Œë“œ(BM25) + ë²¡í„° ê²€ìƒ‰ í“¨ì „ ëž­í‚¹
- **ì¶œì²˜ í‘œê¸°**: ë‹µë³€ í•˜ë‹¨ì— í•´ë‹¹ íŽ˜ì´ì§€/ì²­í¬ ìœ„ì¹˜ë¥¼ ìžë™ í‘œê¸°
- **ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ ê°•í™”**: ì¹´í…Œê³ ë¦¬ë³„ ì§ˆë¬¸ ë¹„ìœ¨, ì‹¤íŒ¨ìœ¨, ìµœê·¼ íŠ¸ë Œë“œ ì°¨íŠ¸


---

## ðŸ“ **GitHub ì—…ë¡œë“œ ì™„ë£Œëœ íŒŒì¼ë“¤**

### **âœ… í•µì‹¬ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼**
- **`qa/app.py`** - ë©”ì¸ Flask ì±—ë´‡ ì• í”Œë¦¬ì¼€ì´ì…˜
- **`qa/rag.py`** - RAG ì‹œìŠ¤í…œ ê´€ë ¨ ì½”ë“œ

### **ðŸŽ¨ ì›¹ í…œí”Œë¦¿ íŒŒì¼ë“¤**
- **`qa/templates/chat.html`** - ì±„íŒ… ì¸í„°íŽ˜ì´ìŠ¤
- **`qa/templates/admin_login.html`** - ê´€ë¦¬ìž ë¡œê·¸ì¸ íŽ˜ì´ì§€
- **`qa/templates/admin_logs.html`** - ê´€ë¦¬ìž ë¡œê·¸ íŽ˜ì´ì§€

### **ðŸ“š í”„ë¡œì íŠ¸ ë¬¸ì„œ**
- **`qa/README.md`** - í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ (ë§ˆí¬ë‹¤ìš´ í¬ë§· ì™„ì„±!)

### **ðŸ”’ ë³´ì•ˆìƒ ì œì™¸ëœ íŒŒì¼ë“¤**
- `.env` - API í‚¤ (ë³´ì•ˆ)
- `__pycache__/` - Python ìºì‹œ
- `vectorstore/` - ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ (ëŒ€ìš©ëŸ‰)
- `*.pdf`, `*.hwp`, `*.xlsx` - ì›ë³¸ ë¬¸ì„œë“¤
- `chat_log.csv`, `chatbot_logs.db` - ë¡œê·¸ ë°ì´í„°

> ðŸ’¡ **GitHub ì €ìž¥ì†Œ**: [https://github.com/juo63/rag](https://github.com/juo63/rag) 
